# murano.conf
[DEFAULT]
debug = {{ murano.logging_debug }}
verbose = True

log_dir = /var/log/murano

bind_port = {{ murano.api_port }}

home_region = RegionOne

[database]
connection = mysql+pymysql://{{ murano.db.username }}:{{ murano.db.password }}@{{ address('mariadb') }}/{{ murano.db.name }}

# test {{ k8s_external_ip }}
[engine]
use_trusts = True
packages_service=murano

[keystone_authtoken]
auth_version = v3
auth_uri = http://{{ address('keystone') }}:{{ keystone.public_port }}/v3
auth_url = http://{{ address('keystone') }}:{{ keystone.admin_port }}/v3
auth_plugin = password
project_domain_id = default
user_domain_id = default
project_name = service
username = {{ murano.db.username }}
password = {{ murano.db.password }}

[oslo_messaging_rabbit]
rabbit_userid = {{ rabbitmq_user }}
rabbit_password = {{ rabbitmq_password }}
rabbit_ha_queues = false
rabbit_hosts = {{ k8s_external_ip }}
rabbit_port = {{ rabbitmq_external_port }}

[rabbitmq]
host = {{ k8s_external_ip }}
port = {{ rabbitmq_external_port }}
login = {{ rabbitmq_user }}
password = {{ rabbitmq_password }}
virtual_host = /

[oslo_messaging_notifications]
driver = messagingv2

[murano]
url = http://{{ address('murano-api') }}:{{ murano.api_port }}

[networking]
default_dns = {{ murano.networking.dns }}
