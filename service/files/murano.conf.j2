[DEFAULT]
debug = {{ murano.debug }}
verbose = True

use_syslog = false
use_stderr = true

bind_port = {{ murano.api_port.cont }}

home_region = RegionOne

[database]
connection = mysql+pymysql://{{ murano.db.username }}:{{ murano.db.password }}@{{ address("database") }}/{{ murano.db.name }}{% if db.tls.enabled %}?ssl_ca=/opt/ccp/etc/tls/ca.pem{% endif %}

[engine]
use_trusts = True
packages_service = murano

{{ keystone_authtoken.keystone_authtoken(murano.username, murano.password) }}

[rabbitmq]
host = {{ k8s_external_ip }}
port = {{ rabbitmq.port.node }}
login = {{ rabbitmq.user }}
password = {{ rabbitmq.password }}
virtual_host = /

[oslo_messaging_notifications]
driver = noop

[murano]
url = {{ address('murano-api', murano.api_port, with_scheme=True) }}

[networking]
default_dns = {{ murano.networking.dns }}

{{ oslo_messaging[messaging.backend.rpc]('rpc_config') }}
{{ oslo_messaging[messaging.backend.notifications]('notifications_config') }}
